# [Platinum V] 꼼꼼한 쿠기의 졸업여행 - 25172 

[문제 링크](https://www.acmicpc.net/problem/25172) 

### 성능 요약

메모리: 27816 KB, 시간: 188 ms

### 분류

자료 구조, 분리 집합, 오프라인 쿼리

### 아이디어
- 트리(#13306) 문제에서 처럼 간선을 제거하는 방식이 아닌, 쿼리를 역순으로 수행하며 간선을 추가하는 방식으로 풀이
- 그룹의 개수를 세는 변수(groupCnt)를 두고 새로운 정점 방문 시에는 +1, 정점 간 연결 시에는 -1 해주며 그룹의 개수 체크
- groupCnt가 1이라면 CONNECT, 그 외에는 DISCONNECT로 판별

### 시간초과
- 쿼리를 역순으로 수행하며 현재 방문된 정점을 모두 방문하면서 모든 정점이 같은 부모를 가지는지 find 함수로 체크하려고 시도
- 불필요한 반복 발생 : O(N^2) 시간복잡도 : 시간초과
- 그래서 위의 아이디어와 같이 방식을 바꿔 인접한 노드만 탐색하도록 함에 따라 O(N+M)으로 시간초과 해결
